<!DOCTYPE html>
<html>
<head>
  <title>Picketing Congress</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1 id="title">ðŸ“¢ Picketing Congress</h1>
  <div id="scoreboard-container"></div>

  <button id="chant" class="btn">Chant for Funding (+10)</button>

  <script type="module">
    import { connect, sendEvent } from './js/client.js';
    import { createScoreboard, updateScoreboard } from './js/scoreboard.js';

    const team = new URLSearchParams(window.location.search).get('team') || 'green';
    const title = document.getElementById('title');
    const button = document.getElementById('chant');

    title.classList.add(`team-${team}`);
    button.classList.add(`btn-${team}`);
    title.textContent = `ðŸ“¢ ${team.toUpperCase()} Picketing Congress`;

    createScoreboard();

    connect((state) => updateScoreboard(state));

    button.addEventListener('click', () => {
      sendEvent('INCREMENT_FUNDING', { team, amount: 10 });
    });
  </script>
</body>
</html>
