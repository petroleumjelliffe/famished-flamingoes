<!DOCTYPE html>
<html>
<head>
  <title>Shrimp Dropper</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1 id="title">✈️ Shrimp Dropper</h1>
  <div id="scoreboard-container"></div>

  <button id="drop" class="btn">Drop Box (+5 Shrimp)</button>

  <script type="module">
    import { connect, sendEvent } from './js/client.js';
    import { createScoreboard, updateScoreboard } from './js/scoreboard.js';

    const team = new URLSearchParams(window.location.search).get('team') || 'blue';
    const title = document.getElementById('title');
    const button = document.getElementById('drop');

    title.classList.add(`team-${team}`);
    button.classList.add(`btn-${team}`);
    title.textContent = `✈️ ${team.toUpperCase()} Shrimp Dropper`;

    createScoreboard();

    connect((state) => updateScoreboard(state));

    button.addEventListener('click', () => {
      sendEvent('INCREMENT_SHRIMP', { team, amount: 5 });
      sendEvent('INCREMENT_FUNDING', { team, amount: -2 });
    });
  </script>
</body>
</html>
